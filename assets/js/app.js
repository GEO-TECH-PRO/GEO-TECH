async function loadConfig(){const res=await fetch('../assets/config.json',{cache:'no-store'}).catch(()=>fetch('assets/config.json',{cache:'no-store'}));return await res.json()}function waLink(n){return`https://wa.me/${String(n).replace(/[^0-9]/g,'')}`}function setTextAll(s,v){document.querySelectorAll(s).forEach(e=>e.textContent=v)}function setHrefAll(s,v){document.querySelectorAll(s).forEach(e=>e.setAttribute('href',v))}function wireCommon(cfg,lang){setTextAll('[data-brand]',cfg.brand);setTextAll('[data-tagline]',lang==='ar'?cfg.tagline_ar:cfg.tagline_en);setTextAll('[data-offer]',lang==='ar'?cfg.launch_offer_ar:cfg.launch_offer_en);const wa=waLink(cfg.contact.whatsapp);setHrefAll('[data-wa]',wa);setTextAll('[data-wa-text]',cfg.contact.whatsapp);setHrefAll('[data-email]',`mailto:${cfg.contact.email}`);setTextAll('[data-email-text]',cfg.contact.email);const active=document.body.getAttribute('data-active');document.querySelectorAll('[data-nav]').forEach(a=>{if(a.getAttribute('data-nav')===active)a.classList.add('active')});const t=document.querySelector('[data-lang-toggle]');if(t){const p=window.location.pathname;if(p.includes('/ar/'))t.setAttribute('href',p.replace('/ar/','/en/'));else if(p.includes('/en/'))t.setAttribute('href',p.replace('/en/','/ar/'));else t.setAttribute('href','ar/index.html')}}